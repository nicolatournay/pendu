const input=document.querySelector("input"),errorDisplay=document.querySelector(".errorDisplay"),guess=document.querySelector(".guess"),hint=document.querySelector(".hint"),hiddenCells=document.querySelectorAll(".hidden");let success=[],errorCounter=[];const score=document.querySelector(".score");function isLetter(e){return 1===e.length&&e.match(/[a-zÃ Ã¢Ã§Ã©Ã¨ÃªÃ«Ã®Ã¯Ã´Ã»Ã¹Ã¼Ã¿Ã±Ã¦Å“]/i)}function isLetterInWord(e){for(let n=0;n<word.length;n++)if(e===word[n])return!0}function checkWin(){if(success.length===word.length){score.classList.remove("hidden");let e="\n            <h3>GagnÃ© !</h3>\n            <p>Pour jouer une nouvelle partie, clique ci-dessus ðŸ‘†</p>\n        ";score.innerHTML+=e,document.querySelector("button").addEventListener("click",resetGame)}if(11===errorCounter.length){score.classList.remove("hidden");let e=`\n            <h3>T'es mort ! ðŸ’€</h3>\n            <p>Le mot Ã©tait ${word}</p>\n            <p>Pour jouer une nouvelle partie, clique ci-dessus ðŸ‘†</p>\n        `;score.innerHTML+=e,document.querySelector("button").addEventListener("click",resetGame)}}function resetGame(){guess.innerHTML="",errorDisplay.innerHTML="",score.innerHTML="",success=[],errorCounter=[],score.classList.add("hidden"),hiddenCells.forEach(function(e){e.classList.add("hidden")}),fetch("https://trouve-mot.fr/api/random/1").then(e=>e.json()).then(e=>{console.log(e),word=e[0].name;for(let e=0;e<word.length;e++)guess.innerHTML+="_ ";const n=e[0].categorie;hint.innerHTML=n})}input.addEventListener("keypress",function(e){if("Enter"===e.key){const e=input.value;if(isLetter(e))if(isLetterInWord(e)){guess.innerHTML="",success.push(e),console.log(success);for(let e=0;e<word.length;e++)success.includes(word[e])?guess.innerHTML+=word[e]+" ":guess.innerHTML+="_ "}else errorCounter.push(e),errorDisplay.innerHTML+=e+" ",hiddenCells.forEach(function(e){e.dataset.error===errorCounter.length.toString()&&e.classList.remove("hidden")});else alert("Veuillez entrer une lettre")}input.value="",checkWin()}),window.onload=function(){fetch("https://trouve-mot.fr/api/random/1").then(e=>e.json()).then(e=>{console.log(e),word=e[0].name;for(let e=0;e<word.length;e++)guess.innerHTML+="_ ";const n=e[0].categorie;hint.innerHTML=n})};